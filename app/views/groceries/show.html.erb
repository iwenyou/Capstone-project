<div class="" ng-app="app">
    <div class="" ng-controller="groceryCtrl">
        <div class="" ng-init="setupGrocery(<%= @grocery_id %>)">
            <div class="row">
                <div class="col-md-4">
                    <div class="jumbotron">
                        <p>{{grocery.name}}</p>
                        <p>Expiration Date:
                            {{grocery.expiration_date}}</p>
                    </div>
                </div>
                <div class="col-md-8">
                    <div ng-repeat="recipe in recipes">
                        <div class="jumbotron">
                            <div class="row">
                                <div class="col-md-4">
                                    <img src="{{recipe.image}}" alt="" class="img-responsive">
                                </div>
                                <div class="col-md-8">
                                    <p ng-click="setupRecipe(recipe.id)" data-toggle="modal" data-target="#myModal">
                                        <a href="">{{recipe.title}}</a>
                                    </p>
                                    <!-- Modal -->
                                    <div id="myModal" class="modal fade" role="dialog">
                                        <div class="modal-dialog">

                                            <!-- Modal content-->
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">{{single_recipe.title}}</h4>
                                                </div>
                                                <div class="modal-body">
                                                  <div class="row">
                                                    <div class="col-md-4">
                                                      <img src="{{single_recipe.image}}" alt="single_recipe.image" class="img-responsive">
                                                    </div>
                                                    <div class="col-md-8">
                                                      <ul>
                                                        <li>Servings: {{single_recipe.servings}}</li>
                                                        <li>Source: {{single_recipe.sourceName}}</li>
                                                      </ul>
                                                    </div>
                                                  </div>

                                                  <!-- instruction -->
                                                  <div class="" ng-repeat="instruction in instructions">
                                                    <div class="" ng-repeat="step in instruction.steps">
                                                      <p>step {{step.number}}: {{step.step}}</p>
                                                      <h5>Equipment:</h5>
                                                      <div class="equipments" ng-repeat="equipment in step.equipment">
                                                        <p>{{equipment.name}}</p>
                                                        <img src="{{equipments.image}}" alt="">
                                                      </div>
                                                      <h5>Ingredients:</h5>
                                                      <div class="ingredients" ng-repeat="ingredient in step.ingredients">
                                                        <p>{{ingredient.name}}</p>
                                                        <img src="{{ingredient.image}}" alt="">
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
